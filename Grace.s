section .text
  global _main
  extern _printf

%define STRING 115,101,99,116,105,111,110,32,46,116,101,120,116,10,32,32,103,108,111,98,97,108,32,95,109,97,105,110,10,32,32,101,120,116,101,114,110,32,95,112,114,105,110,116,102,10,10,37,99,100,101,102,105,110,101,32,83,84,82,73,78,71,32,37,115,10,37,99,100,101,102,105,110,101,32,65,83,95,83,84,82,73,78,71,40,38,120,41,32,120,10,10,37,99,109,97,99,114,111,32,68,69,67,76,95,70,85,78,67,32,49,10,32,32,37,99,49,58,10,32,32,32,32,112,117,115,104,32,114,98,112,10,32,32,32,32,109,111,118,32,114,98,112,44,32,114,115,112,10,32,32,32,32,115,117,98,32,114,115,112,44,32,52,10,32,32,32,32,109,111,118,32,98,121,116,101,32,91,114,115,112,93,44,32,51,55,10,32,32,32,32,120,111,114,32,114,97,120,44,32,114,97,120,10,32,32,32,32,108,101,97,32,114,100,105,44,32,91,114,101,108,32,109,115,103,93,10,32,32,32,32,109,111,118,32,114,115,105,44,32,51,55,10,32,32,32,32,108,101,97,32,114,100,120,44,32,91,114,101,108,32,109,101,116,97,109,115,103,93,10,32,32,32,32,109,111,118,32,114,99,120,44,32,51,55,10,32,32,32,32,109,111,118,32,114,56,44,32,51,55,10,32,32,32,32,109,111,118,32,114,57,44,32,51,55,10,32,32,32,32,99,97,108,108,32,95,112,114,105,110,116,102,10,32,32,32,32,120,111,114,32,114,97,120,44,32,114,97,120,10,32,32,32,32,109,111,118,32,114,115,112,44,32,114,98,112,44,10,32,32,32,32,112,111,112,32,114,98,112,10,32,32,32,32,114,101,116,10,37,99,101,110,100,109,97,99,114,111,10,10,59,32,65,78,89,87,65,89,32,73,84,32,87,79,82,75,83,46,10,68,69,67,76,95,70,85,78,67,32,95,109,97,105,110,10,10,115,101,99,116,105,111,110,32,46,100,97,116,97,10,32,32,109,115,103,32,100,98,32,83,84,82,73,78,71,44,32,48,10,32,32,109,101,116,97,109,115,103,32,100,98,32,65,83,95,83,84,82,73,78,71,40,83,84,82,73,78,71,41,44,32,48,10
%define AS_STRING(&x) x

%macro DECL_FUNC 1
  %1:
    push rbp
    mov rbp, rsp
    sub rsp, 4
    mov byte [rsp], 37
    xor rax, rax
    lea rdi, [rel msg]
    mov rsi, 37
    lea rdx, [rel metamsg]
    mov rcx, 37
    mov r8, 37
    mov r9, 37
    call _printf
    xor rax, rax
    mov rsp, rbp,
    pop rbp
    ret
%endmacro

; ANYWAY IT WORKS.
DECL_FUNC _main

section .data
  msg db STRING, 0
  metamsg db AS_STRING(STRING), 0
